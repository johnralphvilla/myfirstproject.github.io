<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My First Project</title>
</head>
<body>

<h1>My First Project</h1>
<h2>Created By Ralph Villa</h2>

<form id="collectdata">
    <fieldset>
        <legend>Comment Form (<span>requires*</span>)</legend>
        <p>Your Name:</p>
        <input type="text" id="fname" name="fname" placeholder="First name" required>
        <input type="text" id="lname" name="lname" placeholder="Last name" required><br><br>

        <p>Your Email:</p>
        <input type="email" id="email" name="email" required><br><br>

        <label>Subject of comments</label>
        <select id="subjects">
            <option value="">Please Select One</option>
            <option value="a">a</option>
            <option value="b">b</option>
            <option value="c">c</option>
        </select><br><br>

        <label for="comments">Comments</label><br>
        <textarea id="comments" rows="5" cols="50"></textarea><br><br>

        <button type="submit">Submit</button>
    </fieldset>
</form>

<script>
document.getElementById("collectdata").addEventListener("submit", function(e) {
    e.preventDefault();

    // Get existing data array from localStorage or create new
    let allData = JSON.parse(localStorage.getItem("allFormData")) || [];

    // Collect form data
    const data = {
        fname: document.getElementById("fname").value,
        lname: document.getElementById("lname").value,
        email: document.getElementById("email").value,
        subject: document.getElementById("subjects").value,
        comments: document.getElementById("comments").value
    };

    // Add new data to array
    allData.push(data);

    // Save updated array
    localStorage.setItem("allFormData", JSON.stringify(allData));

    // Redirect to table page
    window.location.href = "datatables/data.html";
});
</script>

</body>
</html>
